<div class="card border-0 default-bg p-2 py-3" *ngIf="doctor">
  <h5 class="fw-bolder">Dettagli professionali ({{ count }})</h5>
  <div class="p-0" *ngIf="doctor.experiences">
    <div
      *ngFor="let e of doctor.experiences.slice(0, 1)"
      class="onhover rounded-1 p-2 position-relative"
    >
      <h6 class="text-dark fw-bold mb-1">{{ e.name }}</h6>
      <p>{{ e.description }}</p>
      <p class="mb-0 fs-sm">
        Dal {{ e.startDate | date : "dd/MM/yyyy" }}
        <ng-container *ngIf="e.endDate">
          al {{ e.endDate | date : "dd/MM/yyyy" }}</ng-container
        >
        <ng-container *ngIf="!e.endDate"> - in corso</ng-container>
      </p>
    </div>

    <ng-container *ngIf="moreExperiences && doctor.experiences.length > 1">
      <div
        *ngFor="let e of doctor.experiences.slice(1)"
        class="onhover rounded-1 p-2 position-relative"
      >
        <h6 class="text-dark fw-bold mb-1">{{ e.name }}</h6>
        <p>{{ e.description }}</p>
        <p class="mb-0 fs-sm">
          Dal {{ e.startDate | date : "dd/MM/yyyy" }}
          <ng-container *ngIf="e.endDate">
            al {{ e.endDate | date : "dd/MM/yyyy" }}</ng-container
          >
          <ng-container *ngIf="!e.endDate"> - in corso</ng-container>
        </p>
      </div>
    </ng-container>
    <app-btn-primary
      [extraClass]="'px-0'"
      *ngIf="doctor.experiences.length > 1"
      (onClick)="moreExperiences = !moreExperiences"
      >{{
        moreExperiences
          ? "Mostra meno"
          : "Mostra altro (" + doctor.experiences.slice(1).length + ")"
      }}</app-btn-primary
    >
  </div>
  <div class="p-0" *ngIf="doctor.specializations">
    <div
      *ngFor="let s of doctor.specializations.slice(0, 1)"
      class="onhover rounded-1 p-2 position-relative"
    >
      <h6 class="text-dark fw-bold mb-1">{{ s.name }}</h6>
      <p>{{ s.description }}</p>
      <p class="mb-0 fs-sm">Del {{ s.date | date : "dd/MM/yyyy" }}</p>
    </div>

    <ng-container
      *ngIf="moreSpecializations && doctor.specializations.length > 1"
    >
      <div
        *ngFor="let s of doctor.specializations.slice(1)"
        class="onhover rounded-1 p-2 position-relative"
      >
        <h6 class="text-dark fw-bold mb-1">{{ s.name }}</h6>
        <p>{{ s.description }}</p>
        <p class="mb-0 fs-sm">Del {{ s.date | date : "dd/MM/yyyy" }}</p>
      </div>
    </ng-container>
    <app-btn-primary
      [extraClass]="'px-0'"
      *ngIf="doctor.specializations.length > 1"
      (onClick)="moreSpecializations = !moreSpecializations"
      >{{
        moreSpecializations
          ? "Mostra meno"
          : "Mostra altro (" + doctor.specializations.slice(1).length + ")"
      }}</app-btn-primary
    >
  </div>
  <div class="p-0" *ngIf="doctor.trainings">
    <div
      *ngFor="let t of doctor.trainings.slice(0, 1)"
      class="onhover rounded-1 p-2 position-relative"
    >
      <h6 class="text-dark fw-bold mb-1">{{ t.name }}</h6>
      <p>{{ t.description }}</p>
      <p class="mb-0 fs-sm">
        Dal {{ t.startDate | date : "dd/MM/yyyy" }}
        <ng-container *ngIf="t.endDate">
          al {{ t.endDate | date : "dd/MM/yyyy" }}</ng-container
        >
        <ng-container *ngIf="!t.endDate"> - in corso</ng-container>
      </p>
    </div>

    <ng-container *ngIf="moreTrainings && doctor.trainings.length > 1">
      <div
        *ngFor="let t of doctor.trainings.slice(1)"
        class="onhover rounded-1 p-2 position-relative"
      >
        <h6 class="text-dark fw-bold mb-1">{{ t.name }}</h6>
        <p>{{ t.description }}</p>
        <p class="mb-0 fs-sm">
          Dal {{ t.startDate | date : "dd/MM/yyyy" }}
          <ng-container *ngIf="t.endDate">
            al {{ t.endDate | date : "dd/MM/yyyy" }}</ng-container
          >
          <ng-container *ngIf="!t.endDate"> - in corso</ng-container>
        </p>
      </div>
    </ng-container>
    <app-btn-primary
      [extraClass]="'px-0'"
      *ngIf="doctor.trainings.length > 1"
      (onClick)="moreTrainings = !moreTrainings"
      >{{
        moreTrainings
          ? "Mostra meno"
          : "Mostra altro (" + doctor.trainings.slice(1).length + ")"
      }}</app-btn-primary
    >
  </div>
</div>
